<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Placement Hub - {{ category|capitalize }}</title>
  <link href="{{ url_for('static', filename='style.css') }}" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/js/all.min.js"></script>
</head>

<body>
<header>
  <h1>Placement Hub</h1>
  <nav>
    <a href="/category/dsa" {% if category == 'dsa' %}class="active"{% endif %}>Dsa</a>
    <a href="/category/aptitude" {% if category == 'aptitude' %}class="active"{% endif %}>Aptitude</a>
    <a href="/category/interview" {% if category == 'interview' %}class="active"{% endif %}>Interview</a>
    <a href="/category/resume" {% if category == 'resume' %}class="active"{% endif %}>Resume</a>
    <a href="/category/resources" {% if category == 'resources' %}class="active"{% endif %}>Resources</a>

  </nav>
</header>

<main>
  <h2>Questions</h2>

  {% for id, question, solution, sol_py, sol_java in questions %}
  <div class="accordion">
    <div class="accordion-item">

      <div class="accordion-header" onclick="toggleAccordion(this)">
        <span class="accordion-icon"><i class="fa fa-play"></i></span>
        <span class="accordion-title">{{ loop.index }}. {{ question }}</span>
      </div>

      <div class="accordion-body" style="display:none;">
        {% if category == 'dsa' %}
          <p><strong>Python:</strong></p>
          <pre>{{ sol_py }}</pre>

          <p><strong>Java:</strong></p>
          <pre>{{ sol_java }}</pre>
        {% else %}
          <p><strong>Solution:</strong></p>
          <pre>{{ solution }}</pre>
        {% endif %}
      </div>

    </div>
  </div>
  {% endfor %}
</main>

<script>
function toggleAccordion(header) {
  const body = header.nextElementSibling;
  const icon = header.querySelector('.fa');
  const isOpen = body.style.display === 'block';
  body.style.display = isOpen ? 'none' : 'block';
  icon.className = isOpen ? 'fa fa-play' : 'fa fa-rotate-right';
}
</script>
</body>
</html>
